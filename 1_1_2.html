<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Траектория и перемещение</title>
<style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
        }
        .flex-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
        }
        .container {
            max-width: none;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .illustration {
            text-align: center;
            margin-bottom: 20px;
            max-width: 30%;
            margin: auto;;
        }
        main {
            margin: 20px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .flex-container object {
            position: absolute;
            top: 0;
            left: 0;
            z-index: 0;
        }

        .flex-container .rectangle {
            width: 100%;
            height: 140px;
            background-color: #ffffff;
            position: absolute;
            top: 0;
            left: 0;
            z-index: 1;
        }

    </style>
</head>
<script src="ruffle.js"></script>
<body>
  <main>
<div id="description">
    <h2>Описание:</h2>
    <p><strong>Траектория</strong> - это путь, по которому движется объект.</p>
    <p><strong>Перемещение</strong> - это изменение положения объекта по траектории от одной точки к другой.</p>

    
</div>
<canvas id="canvas" width="800" height="400"></canvas>
<div id="info"></div>
<button onclick="startAnimation()">Start</button>
<button onclick="stopAnimation()">Stop</button>
<button onclick="resetAnimation()">Reset</button>
<button onclick="changeTrajectory('parabola')">Парабола</button>
<button onclick="changeTrajectory('sin')">Синусоида</button>

<div class="flex-container">
    <div class="rectangle"></div>
    <object type="application/x-shockwave-flash" data="1_1_2.swf" width="1000" height="750">
        <param name="movie" value="example.swf">
        <param name="quality" value="high">
        <param name="wmode" value="opaque">
        <param name="allowScriptAccess" value="always">
    </object>
</div>
</main>
<script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const infoDiv = document.getElementById('info');

    let startX = 50;
    let startY = 300;
    let endX = 750;
    let endY = 300;
    let controlX = 400; // контрольная точка для параболы
    let controlY = 100;

    let t = 0;
    let speed = 0.005; // уменьшаем скорость для увеличения количества периодов
    let animation;
    let trail = [];
    let trajectory = 'parabola';

    function draw() {
        const currentX = trajectory === 'parabola' ?
            (1 - t) * (1 - t) * startX + 2 * (1 - t) * t * controlX + t * t * endX :
            startX + t * (endX - startX);
        const currentY = trajectory === 'parabola' ?
            (1 - t) * (1 - t) * startY + 2 * (1 - t) * t * controlY + t * t * endY :
            startY + Math.sin(t * Math.PI * 10) * 150; // изменяем амплитуду и увеличиваем количество периодов

        // Update trail
        trail.push({x: currentX, y: currentY});

        // Draw trail
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.beginPath();
        ctx.moveTo(trail[0].x, trail[0].y);
        for (let i = 1; i < trail.length; i++) {
            ctx.lineTo(trail[i].x, trail[i].y);
        }
        ctx.strokeStyle = 'rgba(0, 0, 0, 0.3)';
        ctx.stroke();

        // Draw moving object
        ctx.beginPath();
        ctx.arc(currentX, currentY, 5, 0, Math.PI * 2);
        ctx.fillStyle = 'red';
        ctx.fill();

        // Update info
        infoDiv.innerHTML = `Position: (${currentX.toFixed(2)}, ${currentY.toFixed(2)})`;

        t += speed;

        if (t > 1) {
            stopAnimation();
            // Draw line from start to end
            ctx.beginPath();
            ctx.moveTo(startX, startY);
            ctx.lineTo(endX, currentY);
            ctx.strokeStyle = 'blue';
            ctx.stroke();
        }
    }

    function startAnimation() {
        if (!animation) {
            animation = setInterval(draw, 20);
        }
    }

    function stopAnimation() {
        clearInterval(animation);
        animation = null;
    }

    function resetAnimation() {
        t = 0;
        trail = [];
        startAnimation();
    }

    function changeTrajectory(newTrajectory) {
        trajectory = newTrajectory;
        resetAnimation();
    }

    startAnimation();
</script>

</body>
</html>
